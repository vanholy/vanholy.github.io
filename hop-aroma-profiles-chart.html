<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profili Aromatici Luppoli - Guida Completa Homebrewing</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 5px;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .filter-group select, .filter-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .filter-group select:focus, .filter-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .stat-card {
            flex: 1;
            min-width: 150px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-card .label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .hops-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .hop-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .hop-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .hop-card.hidden {
            display: none;
        }
        
        .hop-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }
        
        .hop-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .hop-origin {
            background: #e3f2fd;
            color: #1976d2;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 0.75em;
            font-weight: 600;
        }
        
        .hop-specs {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9em;
        }
        
        .hop-spec {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .hop-spec .label {
            color: #7f8c8d;
        }
        
        .hop-spec .value {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .aroma-profile {
            margin-bottom: 15px;
        }
        
        .aroma-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        
        .aroma-tag {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            color: #2d3436;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
        }
        
        .aroma-tag.citrus { background: linear-gradient(135deg, #ffeaa7, #fdcb6e); }
        .aroma-tag.tropical { background: linear-gradient(135deg, #55efc4, #00b894); }
        .aroma-tag.floral { background: linear-gradient(135deg, #fd79a8, #e84393); }
        .aroma-tag.herbal { background: linear-gradient(135deg, #81ecec, #74b9ff); }
        .aroma-tag.resinous { background: linear-gradient(135deg, #a29bfe, #6c5ce7); }
        .aroma-tag.spicy { background: linear-gradient(135deg, #fab1a0, #e17055); }
        .aroma-tag.fruity { background: linear-gradient(135deg, #ff7675, #d63031); }
        .aroma-tag.earthy { background: linear-gradient(135deg, #dfe6e9, #b2bec3); }
        
        .hop-usage {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #ecf0f1;
        }
        
        .usage-badge {
            background: #f0f3f7;
            color: #2c3e50;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .usage-badge.bittering { background: #ffe5e5; color: #d32f2f; }
        .usage-badge.aroma { background: #e8f5e9; color: #388e3c; }
        .usage-badge.dual { background: #e3f2fd; color: #1976d2; }
        
        .chart-container {
            margin: 30px 0;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
            font-size: 1.2em;
        }
        
        canvas {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üç∫ Profili Aromatici Luppoli</h1>
        <p class="subtitle">Guida Completa 115+ Variet√† per Homebrewing</p>
        
        <div class="filters">
            <div class="filter-group">
                <label for="searchInput">üîç Cerca Luppolo</label>
                <input type="text" id="searchInput" placeholder="Es: Cascade, Citra, Saaz...">
            </div>
            
            <div class="filter-group">
                <label for="regionFilter">üåç Regione</label>
                <select id="regionFilter">
                    <option value="">Tutte le Regioni</option>
                    <option value="usa">üá∫üá∏ Stati Uniti</option>
                    <option value="germany">üá©üá™ Germania</option>
                    <option value="uk">üá¨üáß Regno Unito</option>
                    <option value="czech">üá®üáø Repubblica Ceca</option>
                    <option value="nz">üá≥üáø Nuova Zelanda</option>
                    <option value="australia">üá¶üá∫ Australia</option>
                    <option value="slovenia">üá∏üáÆ Slovenia</option>
                    <option value="france">üá´üá∑ Francia</option>
                    <option value="japan">üáØüáµ Giappone</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="alphaFilter">‚öóÔ∏è Alpha Acidi</label>
                <select id="alphaFilter">
                    <option value="">Tutti i Range</option>
                    <option value="low">Basso (&lt;6%)</option>
                    <option value="medium">Medio (6-10%)</option>
                    <option value="high">Alto (10-15%)</option>
                    <option value="very-high">Molto Alto (&gt;15%)</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="usageFilter">üéØ Utilizzo</label>
                <select id="usageFilter">
                    <option value="">Tutti gli Utilizzi</option>
                    <option value="bittering">Amaro</option>
                    <option value="aroma">Aroma</option>
                    <option value="dual">Dual-Purpose</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="aromaFilter">üå∏ Profilo Aromatico</label>
                <select id="aromaFilter">
                    <option value="">Tutti i Profili</option>
                    <option value="citrus">Agrumato</option>
                    <option value="tropical">Tropicale</option>
                    <option value="floral">Floreale</option>
                    <option value="herbal">Erbaceo</option>
                    <option value="resinous">Resinoso</option>
                    <option value="spicy">Speziato</option>
                    <option value="fruity">Fruttato</option>
                    <option value="earthy">Terroso</option>
                </select>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="value" id="totalHops">115</div>
                <div class="label">Variet√† Totali</div>
            </div>
            <div class="stat-card">
                <div class="value" id="visibleHops">115</div>
                <div class="label">Variet√† Visualizzate</div>
            </div>
            <div class="stat-card">
                <div class="value" id="avgAlpha">9.2%</div>
                <div class="label">Alpha Medio</div>
            </div>
            <div class="stat-card">
                <div class="value" id="regionCount">9</div>
                <div class="label">Regioni</div>
            </div>
        </div>
        
        <div class="chart-container">
            <canvas id="aromaChart" width="1200" height="600"></canvas>
        </div>
        
        <div class="hops-grid" id="hopsGrid">
            <!-- Le card dei luppoli verranno generate dinamicamente -->
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #ffeaa7, #fdcb6e);"></div>
                <span>Agrumato</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #55efc4, #00b894);"></div>
                <span>Tropicale</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #fd79a8, #e84393);"></div>
                <span>Floreale</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #81ecec, #74b9ff);"></div>
                <span>Erbaceo</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);"></div>
                <span>Resinoso</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #fab1a0, #e17055);"></div>
                <span>Speziato</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #ff7675, #d63031);"></div>
                <span>Fruttato</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: linear-gradient(135deg, #dfe6e9, #b2bec3);"></div>
                <span>Terroso</span>
            </div>
        </div>
    </div>
    
    <script>
        // Database completo dei luppoli con tutti i profili aromatici
        const hopsDatabase = [
            // STATI UNITI
            { name: "Cascade", origin: "usa", alpha: [4.5, 7], aromas: ["floral", "citrus", "spicy"], usage: "dual", description: "Floreale-speziato-pompelmo" },
            { name: "Centennial", origin: "usa", alpha: [8, 11.5], aromas: ["citrus", "fruity"], usage: "dual", description: "Limone-arancio-tropicale" },
            { name: "Chinook", origin: "usa", alpha: [12, 14], aromas: ["resinous", "citrus", "fruity"], usage: "dual", description: "Resinoso-albicocca-pompelmo-pino" },
            { name: "Columbus/CTZ", origin: "usa", alpha: [14, 18], aromas: ["citrus", "earthy", "resinous"], usage: "bittering", description: "Citrico-legnoso-resinoso-dank" },
            { name: "Citra¬Æ", origin: "usa", alpha: [10, 16], aromas: ["citrus", "tropical", "fruity"], usage: "dual", description: "Agrumi-frutta tropicale-mango-passion fruit" },
            { name: "Mosaic¬Æ", origin: "usa", alpha: [11.5, 13.5], aromas: ["fruity", "tropical", "floral"], usage: "dual", description: "Mirtillo-tropicale-guava-floreale" },
            { name: "Amarillo¬Æ", origin: "usa", alpha: [8, 11], aromas: ["citrus", "fruity"], usage: "dual", description: "Arancio-limone-pompelmo-melone-pesca" },
            { name: "Simcoe¬Æ", origin: "usa", alpha: [12, 14], aromas: ["tropical", "fruity", "resinous", "earthy"], usage: "dual", description: "Passion fruit-albicocca-pino-terroso-complesso" },
            { name: "Azacca¬Æ", origin: "usa", alpha: [14, 16], aromas: ["tropical", "citrus"], usage: "dual", description: "Mango-ananas-agrumi-tropicale" },
            { name: "Strata‚Ñ¢", origin: "usa", alpha: [11, 13], aromas: ["resinous", "tropical"], usage: "dual", description: "Dank-cannabis-tropicale-passion fruit" },
            { name: "Sabro¬Æ", origin: "usa", alpha: [14, 18], aromas: ["citrus", "tropical", "herbal"], usage: "dual", description: "Mandarino-cocco-cedro-menta" },
            { name: "Idaho 7‚Ñ¢", origin: "usa", alpha: [12, 14], aromas: ["tropical", "fruity", "earthy"], usage: "dual", description: "Ananas-pesca-mango-t√® nero" },
            { name: "Warrior", origin: "usa", alpha: [15, 17], aromas: ["resinous", "herbal"], usage: "bittering", description: "Bittering pulito con note resinose sottili" },
            { name: "Summit‚Ñ¢", origin: "usa", alpha: [16, 19], aromas: ["spicy", "citrus", "herbal"], usage: "bittering", description: "Pepe-incenso-anice-arancio" },
            { name: "Nugget", origin: "usa", alpha: [12, 14], aromas: ["spicy", "herbal"], usage: "bittering", description: "Amaro forte-speziato-erbaceo" },
            { name: "Galena", origin: "usa", alpha: [12, 14], aromas: ["fruity", "citrus"], usage: "bittering", description: "Amaro pulito-ribes nero-fruttato" },
            { name: "Crystal", origin: "usa", alpha: [3.5, 5.5], aromas: ["floral", "spicy"], usage: "aroma", description: "Carattere noble americano" },
            { name: "Willamette", origin: "usa", alpha: [4, 6], aromas: ["floral", "spicy", "earthy"], usage: "aroma", description: "Mite-speziato-floreale-terroso" },
            { name: "Mt. Hood", origin: "usa", alpha: [4, 8], aromas: ["herbal", "spicy"], usage: "aroma", description: "Noble americano, erbaceo-speziato" },
            { name: "Sterling", origin: "usa", alpha: [6, 9], aromas: ["floral", "spicy", "herbal"], usage: "dual", description: "Carattere noble americano" },
            { name: "Cashmere", origin: "usa", alpha: [7.7, 9.1], aromas: ["fruity", "citrus", "herbal"], usage: "dual", description: "Melone-lime-erbe" },
            { name: "El Dorado¬Æ", origin: "usa", alpha: [14, 16], aromas: ["tropical", "fruity"], usage: "dual", description: "Pera-anguria-frutta candita" },
            { name: "Krush¬Æ (HBC 586)", origin: "usa", alpha: [12, 13], aromas: ["tropical", "fruity"], usage: "dual", description: "Cocktail di frutta-mango-guava" },
            { name: "Talus¬Æ (HBC 692)", origin: "usa", alpha: [8, 10], aromas: ["citrus", "floral", "resinous"], usage: "dual", description: "Pompelmo rosa-agrumi-rose-pino-salvia" },
            { name: "Pahto¬Æ (HBC 682)", origin: "usa", alpha: [17, 20], aromas: ["citrus", "earthy"], usage: "bittering", description: "High-alpha per bittering pulito" },
            { name: "Dolcita‚Ñ¢ (HBC 1019)", origin: "usa", alpha: [10, 12], aromas: ["fruity", "tropical"], usage: "aroma", description: "Frutta dolce-tropicale" },
            { name: "Ekuanot‚Ñ¢ (HBC 366)", origin: "usa", alpha: [13, 15], aromas: ["citrus", "tropical", "herbal"], usage: "dual", description: "Lime-papaya-pepe verde" },
            
            // GERMANIA
            { name: "Saaz", origin: "czech", alpha: [2.5, 4.5], aromas: ["spicy", "earthy", "herbal"], usage: "aroma", description: "Speziato-terroso-erbaceo" },
            { name: "Hallertau Mittelfr√ºh", origin: "germany", alpha: [3, 5.5], aromas: ["floral", "herbal", "citrus"], usage: "aroma", description: "Floreale-erbaceo-citrico" },
            { name: "Tettnanger", origin: "germany", alpha: [3.4, 5.2], aromas: ["spicy", "floral"], usage: "dual", description: "Speziato-floreale-equilibrato" },
            { name: "Spalt/Spalter", origin: "germany", alpha: [4, 5.2], aromas: ["earthy", "spicy"], usage: "aroma", description: "Carattere noble legnoso-pepato" },
            { name: "Hersbrucker", origin: "germany", alpha: [1.5, 4], aromas: ["herbal", "floral", "fruity"], usage: "aroma", description: "Delicato-fieno-tabacco-arancio" },
            { name: "Perle", origin: "germany", alpha: [6, 9.5], aromas: ["spicy", "floral", "herbal"], usage: "dual", description: "Piacevole-speziato-floreale-menta" },
            { name: "Magnum", origin: "germany", alpha: [11, 16], aromas: ["herbal"], usage: "bittering", description: "Bittering pulitissimo, alta efficienza" },
            { name: "Hallertau Tradition", origin: "germany", alpha: [4.5, 7], aromas: ["herbal", "floral"], usage: "aroma", description: "Sviluppato per rimpiazzare Mittelfr√ºh" },
            { name: "Mandarina Bavaria", origin: "germany", alpha: [7, 10], aromas: ["citrus", "fruity"], usage: "dual", description: "Mandarino dolce-clementina-erbe" },
            { name: "Hallertau Blanc", origin: "germany", alpha: [9, 12], aromas: ["fruity", "tropical"], usage: "aroma", description: "Vino bianco-uva spina-ananas" },
            { name: "H√ºll Melon", origin: "germany", alpha: [6, 8], aromas: ["fruity"], usage: "aroma", description: "Melone-fragola-albicocca-frutta gialla" },
            { name: "Polaris", origin: "germany", alpha: [18, 23], aromas: ["herbal", "spicy"], usage: "bittering", description: "Menta-eucalipto per black IPA" },
            { name: "Ariana", origin: "germany", alpha: [9, 12], aromas: ["tropical", "fruity", "citrus"], usage: "aroma", description: "Passion fruit-ananas-ribes nero-mandarino" },
            { name: "Callista", origin: "germany", alpha: [2, 5], aromas: ["fruity", "herbal"], usage: "aroma", description: "Frutta rossa-erbe-fragola-pesca-lampone" },
            
            // REGNO UNITO
            { name: "East Kent Goldings", origin: "uk", alpha: [4.5, 6.5], aromas: ["floral", "herbal", "citrus"], usage: "aroma", description: "Lavanda-miele-limone-timo" },
            { name: "Fuggle", origin: "uk", alpha: [3, 5.6], aromas: ["herbal", "earthy", "spicy"], usage: "aroma", description: "Mite-erbaceo-menta-terroso" },
            { name: "Challenger", origin: "uk", alpha: [6.5, 8.5], aromas: ["herbal", "fruity"], usage: "dual", description: "Cedro-t√® verde-marmellata-toffee" },
            { name: "Target", origin: "uk", alpha: [9.5, 12.5], aromas: ["herbal", "spicy"], usage: "bittering", description: "High-alpha inglese per bittering" },
            { name: "Northern Brewer", origin: "uk", alpha: [6, 10], aromas: ["herbal", "resinous", "earthy"], usage: "bittering", description: "Menta-pino-legno" },
            { name: "First Gold", origin: "uk", alpha: [6.5, 8.5], aromas: ["citrus", "spicy"], usage: "dual", description: "Arancio-speziato-marmellata" },
            { name: "Bramling Cross", origin: "uk", alpha: [5, 7], aromas: ["fruity", "spicy"], usage: "aroma", description: "Ribes nero-more-speziato" },
            { name: "Jester¬Æ", origin: "uk", alpha: [7, 9], aromas: ["citrus", "fruity", "earthy"], usage: "dual", description: "Pompelmo-ribes-legno" },
            { name: "Godiva‚Ñ¢", origin: "uk", alpha: [6, 9], aromas: ["fruity", "citrus"], usage: "aroma", description: "Mandarino-lime-uva spina" },
            { name: "Mystic‚Ñ¢", origin: "uk", alpha: [4, 7], aromas: ["fruity", "tropical", "citrus"], usage: "aroma", description: "Ribes nero-passion fruit-agrumi" },
            { name: "Harlequin¬Æ", origin: "uk", alpha: [9.5, 12], aromas: ["tropical", "fruity"], usage: "dual", description: "Passion fruit-pesca-ananas" },
            { name: "Archer¬Æ", origin: "uk", alpha: [4.5, 6.5], aromas: ["citrus", "herbal"], usage: "aroma", description: "Lime-erbe-agrumi" },
            { name: "Olicana¬Æ", origin: "uk", alpha: [4, 6], aromas: ["tropical", "fruity"], usage: "aroma", description: "Mango-pompelmo-passion fruit" },
            
            // REPUBBLICA CECA
            { name: "Saaz Late", origin: "czech", alpha: [3, 5], aromas: ["spicy", "herbal"], usage: "aroma", description: "Versione tardiva del Saaz" },
            { name: "Saaz Shine", origin: "czech", alpha: [3, 5], aromas: ["citrus", "herbal"], usage: "aroma", description: "Saaz con note pi√π citrice" },
            { name: "Saaz Comfort", origin: "czech", alpha: [4, 6], aromas: ["spicy", "floral"], usage: "aroma", description: "Saaz pi√π intenso" },
            { name: "Premiant", origin: "czech", alpha: [7, 10], aromas: ["citrus", "herbal"], usage: "dual", description: "Pi√π citrico del Saaz" },
            { name: "Sl√°dek", origin: "czech", alpha: [5, 7], aromas: ["herbal", "spicy"], usage: "dual", description: "Versione migliorata del Saaz" },
            { name: "Kazbek", origin: "czech", alpha: [5, 8], aromas: ["citrus", "herbal", "spicy"], usage: "aroma", description: "Saaz con note selvagge russe" },
            
            // NUOVA ZELANDA
            { name: "Nelson Sauvin", origin: "nz", alpha: [10, 13], aromas: ["tropical", "fruity", "citrus"], usage: "dual", description: "Sauvignon Blanc-uva spina" },
            { name: "Motueka", origin: "nz", alpha: [6.5, 7.5], aromas: ["citrus", "tropical"], usage: "aroma", description: "Lime-tropical-floreale" },
            { name: "Riwaka", origin: "nz", alpha: [4.5, 6.5], aromas: ["tropical", "citrus"], usage: "aroma", description: "Passion fruit e pompelmo intenso" },
            { name: "Nectaron", origin: "nz", alpha: [9, 10], aromas: ["tropical", "fruity"], usage: "dual", description: "Mix intenso ananas-passion fruit-pesca" },
            { name: "Pacific Jade", origin: "nz", alpha: [12, 14], aromas: ["citrus", "herbal", "spicy"], usage: "bittering", description: "Pepe nero-agrumi-erbe" },
            { name: "Pacific Gem", origin: "nz", alpha: [13, 16], aromas: ["fruity", "herbal"], usage: "bittering", description: "Mora-quercia-fruttato" },
            { name: "Wakatu", origin: "nz", alpha: [6.5, 8.5], aromas: ["citrus", "floral"], usage: "dual", description: "Citrico fresco, eredit√† noble" },
            { name: "Kohatu", origin: "nz", alpha: [6, 7], aromas: ["tropical", "fruity"], usage: "aroma", description: "Ananas-frutti tropicali" },
            
            // AUSTRALIA
            { name: "Galaxy", origin: "australia", alpha: [11, 16], aromas: ["tropical", "citrus"], usage: "dual", description: "Passion fruit intenso-pesca-agrumi" },
            { name: "Vic Secret", origin: "australia", alpha: [14, 17], aromas: ["tropical", "fruity", "herbal"], usage: "dual", description: "Ananas-passion fruit-erbe" },
            { name: "Ella", origin: "australia", alpha: [13, 16], aromas: ["floral", "spicy", "tropical"], usage: "dual", description: "Speziato-anice-tropical" },
            { name: "Enigma", origin: "australia", alpha: [15, 18], aromas: ["fruity", "tropical"], usage: "dual", description: "Lampone-vino bianco-melone" },
            { name: "Eclipse", origin: "australia", alpha: [16, 18.5], aromas: ["citrus", "fruity"], usage: "dual", description: "Mandarino-agrumi-fruttato" },
            { name: "Topaz", origin: "australia", alpha: [15.5, 18], aromas: ["citrus", "fruity"], usage: "dual", description: "Lychee-frutta-agrumi" },
            { name: "Pride of Ringwood", origin: "australia", alpha: [7, 10], aromas: ["herbal", "citrus"], usage: "bittering", description: "Classico australiano" },
            { name: "Super Pride", origin: "australia", alpha: [13, 15], aromas: ["citrus", "herbal"], usage: "bittering", description: "Versione potenziata del Pride" },
            { name: "Sylva", origin: "australia", alpha: [5, 7], aromas: ["floral", "earthy"], usage: "aroma", description: "Floreale-terroso-delicato" },
            
            // SLOVENIA
            { name: "Styrian Goldings", origin: "slovenia", alpha: [4, 6], aromas: ["earthy", "floral", "herbal"], usage: "aroma", description: "Terroso-floreale-erbaceo" },
            { name: "Aurora", origin: "slovenia", alpha: [7, 12], aromas: ["floral", "citrus"], usage: "dual", description: "Floreale-lime-agrumi" },
            { name: "Bobek", origin: "slovenia", alpha: [3.5, 7], aromas: ["floral", "herbal"], usage: "aroma", description: "Floreale-pino-erbaceo" },
            { name: "Styrian Wolf", origin: "slovenia", alpha: [11, 15], aromas: ["citrus", "fruity"], usage: "dual", description: "Agrumi-fruttato intenso" },
            { name: "Styrian Dragon", origin: "slovenia", alpha: [8, 12], aromas: ["tropical", "fruity"], usage: "dual", description: "Frutta tropicale-passion fruit" },
            { name: "Styrian Cardinal", origin: "slovenia", alpha: [10, 14], aromas: ["fruity", "citrus"], usage: "dual", description: "Agrumi-frutta-caramello" },
            
            // FRANCIA
            { name: "Strisselspalt", origin: "france", alpha: [1.8, 2.5], aromas: ["floral", "herbal", "citrus"], usage: "aroma", description: "Floreale-erbaceo-agrumi sottile" },
            { name: "Aramis", origin: "france", alpha: [6, 8], aromas: ["spicy", "herbal", "citrus"], usage: "aroma", description: "Speziato-erbaceo-agrumi" },
            { name: "Triskel", origin: "france", alpha: [8, 9], aromas: ["fruity", "citrus"], usage: "aroma", description: "Fruttato-citrico-caramello-fragola" },
            
            // GIAPPONE
            { name: "Sorachi Ace", origin: "japan", alpha: [11.5, 16], aromas: ["citrus", "herbal"], usage: "dual", description: "Limone-erbe-aneto intenso" }
        ];
        
        // Funzione per ottenere il range alpha
        function getAlphaRange(alpha) {
            const avg = (alpha[0] + alpha[1]) / 2;
            if (avg < 6) return 'low';
            if (avg < 10) return 'medium';
            if (avg < 15) return 'high';
            return 'very-high';
        }
        
        // Funzione per creare le card dei luppoli
        function createHopCard(hop) {
            const alphaAvg = ((hop.alpha[0] + hop.alpha[1]) / 2).toFixed(1);
            const aromaTagsHtml = hop.aromas.map(aroma => 
                `<span class="aroma-tag ${aroma}">${getAromaLabel(aroma)}</span>`
            ).join('');
            
            const usageClass = hop.usage;
            const usageLabel = hop.usage === 'dual' ? 'Dual-Purpose' : 
                              hop.usage === 'bittering' ? 'Amaro' : 'Aroma';
            
            return `
                <div class="hop-card" 
                     data-name="${hop.name.toLowerCase()}"
                     data-origin="${hop.origin}"
                     data-alpha="${getAlphaRange(hop.alpha)}"
                     data-usage="${hop.usage}"
                     data-aromas="${hop.aromas.join(',')}"
                     onclick="highlightHop('${hop.name}')">
                    <div class="hop-header">
                        <div class="hop-name">${hop.name}</div>
                        <div class="hop-origin">${getOriginLabel(hop.origin)}</div>
                    </div>
                    <div class="hop-specs">
                        <div class="hop-spec">
                            <span class="label">Alpha:</span>
                            <span class="value">${hop.alpha[0]}-${hop.alpha[1]}%</span>
                        </div>
                        <div class="hop-spec">
                            <span class="label">Media:</span>
                            <span class="value">${alphaAvg}%</span>
                        </div>
                    </div>
                    <div class="aroma-profile">
                        <div class="aroma-tags">
                            ${aromaTagsHtml}
                        </div>
                    </div>
                    <div style="color: #7f8c8d; font-size: 0.85em; margin-top: 10px;">
                        ${hop.description}
                    </div>
                    <div class="hop-usage">
                        <span class="usage-badge ${usageClass}">${usageLabel}</span>
                    </div>
                </div>
            `;
        }
        
        // Funzione per ottenere l'etichetta dell'aroma
        function getAromaLabel(aroma) {
            const labels = {
                'citrus': 'Agrumato',
                'tropical': 'Tropicale',
                'floral': 'Floreale',
                'herbal': 'Erbaceo',
                'resinous': 'Resinoso',
                'spicy': 'Speziato',
                'fruity': 'Fruttato',
                'earthy': 'Terroso'
            };
            return labels[aroma] || aroma;
        }
        
        // Funzione per ottenere l'etichetta dell'origine
        function getOriginLabel(origin) {
            const labels = {
                'usa': 'üá∫üá∏ USA',
                'germany': 'üá©üá™ Germania',
                'uk': 'üá¨üáß UK',
                'czech': 'üá®üáø Rep. Ceca',
                'nz': 'üá≥üáø N. Zelanda',
                'australia': 'üá¶üá∫ Australia',
                'slovenia': 'üá∏üáÆ Slovenia',
                'france': 'üá´üá∑ Francia',
                'japan': 'üáØüáµ Giappone'
            };
            return labels[origin] || origin;
        }
        
        // Funzione per creare il grafico radar dei profili aromatici
        function createAromaChart() {
            const canvas = document.getElementById('aromaChart');
            const ctx = canvas.getContext('2d');
            
            // Conta i profili aromatici
            const aromaCount = {
                'citrus': 0,
                'tropical': 0,
                'floral': 0,
                'herbal': 0,
                'resinous': 0,
                'spicy': 0,
                'fruity': 0,
                'earthy': 0
            };
            
            hopsDatabase.forEach(hop => {
                hop.aromas.forEach(aroma => {
                    if (aromaCount[aroma] !== undefined) {
                        aromaCount[aroma]++;
                    }
                });
            });
            
            // Prepara i dati per il grafico
            const labels = Object.keys(aromaCount).map(key => getAromaLabel(key));
            const data = Object.values(aromaCount);
            
            // Disegna il grafico a barre
            const maxValue = Math.max(...data);
            const barWidth = (canvas.width - 100) / labels.length;
            const barHeight = canvas.height - 100;
            
            // Sfondo
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Titolo
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 20px Segoe UI';
            ctx.textAlign = 'center';
            ctx.fillText('Distribuzione Profili Aromatici (115+ Variet√†)', canvas.width / 2, 30);
            
            // Disegna le barre
            const colors = [
                '#fdcb6e', // citrus
                '#00b894', // tropical
                '#e84393', // floral
                '#74b9ff', // herbal
                '#6c5ce7', // resinous
                '#e17055', // spicy
                '#d63031', // fruity
                '#b2bec3'  // earthy
            ];
            
            labels.forEach((label, index) => {
                const x = 50 + index * barWidth;
                const barHeightValue = (data[index] / maxValue) * (barHeight - 50);
                const y = canvas.height - 50 - barHeightValue;
                
                // Barra con gradiente
                const gradient = ctx.createLinearGradient(x, y, x, canvas.height - 50);
                gradient.addColorStop(0, colors[index]);
                gradient.addColorStop(1, adjustColor(colors[index], -30));
                
                ctx.fillStyle = gradient;
                ctx.fillRect(x + barWidth * 0.1, y, barWidth * 0.8, barHeightValue);
                
                // Valore sopra la barra
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 14px Segoe UI';
                ctx.textAlign = 'center';
                ctx.fillText(data[index], x + barWidth / 2, y - 5);
                
                // Etichetta sotto
                ctx.save();
                ctx.translate(x + barWidth / 2, canvas.height - 45);
                ctx.rotate(-Math.PI / 6);
                ctx.font = '12px Segoe UI';
                ctx.textAlign = 'right';
                ctx.fillText(label, 0, 0);
                ctx.restore();
            });
            
            // Asse Y
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, 50);
            ctx.lineTo(50, canvas.height - 50);
            ctx.lineTo(canvas.width - 50, canvas.height - 50);
            ctx.stroke();
            
            // Etichetta asse Y
            ctx.save();
            ctx.translate(20, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.font = '14px Segoe UI';
            ctx.textAlign = 'center';
            ctx.fillText('Numero di Variet√†', 0, 0);
            ctx.restore();
        }
        
        // Funzione per regolare il colore
        function adjustColor(color, amount) {
            const num = parseInt(color.replace('#', ''), 16);
            const r = Math.max(0, Math.min(255, (num >> 16) + amount));
            const g = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amount));
            const b = Math.max(0, Math.min(255, (num & 0x0000FF) + amount));
            return '#' + ((r << 16) | (g << 8) | b).toString(16).padStart(6, '0');
        }
        
        // Funzione per evidenziare un luppolo nel grafico
        function highlightHop(hopName) {
            const cards = document.querySelectorAll('.hop-card');
            cards.forEach(card => {
                if (card.querySelector('.hop-name').textContent === hopName) {
                    card.style.border = '3px solid #667eea';
                    card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    card.style.border = 'none';
                }
            });
        }
        
        // Funzione per filtrare i luppoli
        function filterHops() {
            const searchValue = document.getElementById('searchInput').value.toLowerCase();
            const regionValue = document.getElementById('regionFilter').value;
            const alphaValue = document.getElementById('alphaFilter').value;
            const usageValue = document.getElementById('usageFilter').value;
            const aromaValue = document.getElementById('aromaFilter').value;
            
            const cards = document.querySelectorAll('.hop-card');
            let visibleCount = 0;
            let totalAlpha = 0;
            let alphaCount = 0;
            
            cards.forEach(card => {
                const name = card.dataset.name;
                const origin = card.dataset.origin;
                const alpha = card.dataset.alpha;
                const usage = card.dataset.usage;
                const aromas = card.dataset.aromas;
                
                let visible = true;
                
                if (searchValue && !name.includes(searchValue)) {
                    visible = false;
                }
                if (regionValue && origin !== regionValue) {
                    visible = false;
                }
                if (alphaValue && alpha !== alphaValue) {
                    visible = false;
                }
                if (usageValue && usage !== usageValue) {
                    visible = false;
                }
                if (aromaValue && !aromas.includes(aromaValue)) {
                    visible = false;
                }
                
                if (visible) {
                    card.classList.remove('hidden');
                    visibleCount++;
                    // Calcola alpha medio
                    const hop = hopsDatabase.find(h => h.name.toLowerCase() === name);
                    if (hop) {
                        totalAlpha += (hop.alpha[0] + hop.alpha[1]) / 2;
                        alphaCount++;
                    }
                } else {
                    card.classList.add('hidden');
                }
            });
            
            // Aggiorna statistiche
            document.getElementById('visibleHops').textContent = visibleCount;
            if (alphaCount > 0) {
                document.getElementById('avgAlpha').textContent = (totalAlpha / alphaCount).toFixed(1) + '%';
            }
            
            // Mostra messaggio se nessun risultato
            const grid = document.getElementById('hopsGrid');
            if (visibleCount === 0) {
                if (!document.querySelector('.no-results')) {
                    grid.insertAdjacentHTML('afterend', 
                        '<div class="no-results">Nessun luppolo trovato con i filtri selezionati</div>'
                    );
                }
            } else {
                const noResults = document.querySelector('.no-results');
                if (noResults) noResults.remove();
            }
        }
        
        // Inizializzazione
        document.addEventListener('DOMContentLoaded', function() {
            // Genera le card dei luppoli
            const grid = document.getElementById('hopsGrid');
            hopsDatabase.forEach(hop => {
                grid.innerHTML += createHopCard(hop);
            });
            
            // Crea il grafico
            createAromaChart();
            
            // Aggiungi event listener ai filtri
            document.getElementById('searchInput').addEventListener('input', filterHops);
            document.getElementById('regionFilter').addEventListener('change', filterHops);
            document.getElementById('alphaFilter').addEventListener('change', filterHops);
            document.getElementById('usageFilter').addEventListener('change', filterHops);
            document.getElementById('aromaFilter').addEventListener('change', filterHops);
            
            // Aggiorna statistiche iniziali
            document.getElementById('totalHops').textContent = hopsDatabase.length;
            document.getElementById('visibleHops').textContent = hopsDatabase.length;
            
            // Calcola alpha medio iniziale
            let totalAlpha = 0;
            hopsDatabase.forEach(hop => {
                totalAlpha += (hop.alpha[0] + hop.alpha[1]) / 2;
            });
            document.getElementById('avgAlpha').textContent = (totalAlpha / hopsDatabase.length).toFixed(1) + '%';
        });
    </script>
</body>
</html>